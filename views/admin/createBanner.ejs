<%- include('../partials/admin.ejs') %>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>


    <%- include('../partials/admin-dashboard.ejs') %>


        <style>
            body {
                background: #fff;
                padding-top: 5%;
                padding-left: 20%;
            }

            /* .border{
                border: 1px solid grey;
                padding: 0;
                max-width: fit-content;
            }

            image{
                display: block;
            } */

            .main-section {
                padding: 15px;
                background: #f1f1f1;
            }

            .custom-file-control::after {
                content: "Choose file...";
            }

            .custom-file-control::before {
                content: "Browse";
            }

            .form-control {
                max-width: 100%;
            }
            body {
  font-family: sans-serif;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
}

.file-input__input {
  width: 0.1px;
  height: 0.1px;
  opacity: 0;
  overflow: hidden;
  position: absolute;
  z-index: -1;
}

.file-input__label {
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 600;
  color: #fff;
  font-size: 14px;
  padding: 10px 12px;
  background-color: #4245a8;
  box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.25);
}

.file-input__label svg {
  height: 16px;
  margin-right: 4px;
}

        </style>


        <body>

            <div class="container">
                <div class="row">
                    <div class="offset-lg-2 col-lg-8 col-sm-8 col-8 border rounded main-section">
                        <h3 class="text-center text-inverse">Create Banner</h3>
                        <hr>

                        <form class="container" method="post" action="/admin/create-banner" enctype="multipart/form-data">
                            <div class="row">
                                <div class="col-lg-12 col-sm-6 col-12">
                                    <div class="form-group">
                                        <label class="text-inverse" for="validationCustom01">Title</label>
                                        <input type="text" class="form-control" id="name" name="title"
                                            placeholder=" Enter product name" onkeyup="validName()">
                                        <span id="names" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-sm-6 col-12">
                                    <div class="form-group">
                                        <label class="text-inverse" for="validationCustom02">Product
                                            Category</label>
                                        <select class="custom-select w-100 form-control" name="category"
                                            style="display: block;">
                                            <%categories.forEach(category=> { %>
                                                <option value=<%=category.category %>><%= category.category %>
                                                </option>
                                                <% }); %>
                                        </select>
                                        <!-- <input type="text" class="form-control" id="validationCustom02"
                                            placeholder="Product Category" value="Last Name" required> -->
                                    </div>
                                </div>
                                <div class="col-lg-6 col-sm-6 col-12">
                                    <div class="form-group">
                                        <label class="text-inverse" for="inputpassword">Product Description</label>
                                        <input type="text" id="description" class="form-control" min="0" max="100"
                                            placeholder="Enter Banner Description" name="description"
                                            onkeyup="validDiscount()">
                                        <span id="descriptions" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <img id="image" src=""
                                    style="height:30vh ;width:46vw ;margin-bottom: 15px;">
                            </div>
                            <div class="file-input">
                                <input
                                  type="file"
                                  name="file-input"
                                  id="file-input"
                                  class="file-input__input"
                                  onchange="viewImage(event)"
                                />
                                <label class="file-input__label" for="file-input">
                                  <svg
                                    aria-hidden="true"
                                    focusable="false"
                                    data-prefix="fas"
                                    data-icon="upload"
                                    class="svg-inline--fa fa-upload fa-w-16"
                                    role="img"
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 512 512"
                                  >
                                    <path
                                      fill="currentColor"
                                      d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"
                                    ></path>
                                  </svg>
                                  <span>Upload file</span></label
                                >
                              </div>
                            <hr>
                            <div class="row">
                                <div class="col-lg-12 col-sm-12 col-12 text-center">
                                    <button class="btn btn-info btn-lg btn-block" onclick="return validation()" type="submit">Create
                                        Banner</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <script>
                var proNames = document.getElementById('names');
                var proDescriptions = document.getElementById('descriptions');

                function validName() {
                    const name = document.getElementById('name').value;

                    if (name == "") {
                        proNames.innerHTML = "Enter The Banner Title"
                        return false
                    }

                    proNames.innerHTML = null;
                    return true;
                }






                function validDescription() {
                    const description = document.getElementById('description').value

                    if (description == "") {
                        proDescriptions.innerHTML = "Enter the description"
                        return false;
                    }

                    if (description.length > 30) {
                        proDescriptions.innerHTML = "Maximum limit exceeded"
                        return false;
                    }

                    proDescriptions.innerHTML = null;
                    return true;
                }


                function validation() {
                    if (!validName() && !validDescription()) {
                        return false
                    } else if (!validName() || !validDescription()) {
                        return false
                    } else {
                        return true
                    }
                }
            </script>


            <script>

                function viewImage(event) {
                    document.getElementById('image').src = URL.createObjectURL(event.target.files[0])
                }

            </script>



        </body>

        </html>