<%- include('../partials/admin.ejs') %>

  <%- include('../partials/admin-dashboard.ejs') %>

    <style>
      .bg {
        background-color: #fff;
        width: 100%;
        height: 100vh;
      }

      h1 {
        margin-top: 10vh;
        font-family: oswald;
        color: #172A3A;
      }

      .form-group {
        font-family: Oswald;
        margin-top: 0px;
      }

      #mlot {
        margin-bottom: 50px;
      }

      .form-container {
        border: 1px solid #000;
        padding: 50px 60px;
        margin-top: 5vh;
        -webkit-box-shadow: -1px 4px 45px -7px rgba(0, 0, 0, 0.75);
        -moz-box-shadow: -1px 4px 45px -7px rgba(0, 0, 0, 0.75);
        box-shadow: -1px 4px 45px -7px rgba(0, 0, 0, 0.75);
      }

      ;
    </style>
    <div class="container-fluid bg">


      <h1 class="text-center"> ADD CATEGORY </h1>

      <div class="row">
        <div class="col-md-4 col-sm-4 col-xs-12"></div>

        <div class="col-md-4 col-sm-4 col-xs-12">

          <form class="form-container" method="post" action="/admin/addcategory">
            <!-- <h2 class="text-center"> PRODUCT DETAILS </h2>  -->
            <div class="form-group">
              <label for="mdate">PRODUCT CATEGORY</label>
              <% if(message.length> 0){ %>
                <h6 class="text-danger">
                  <%= message %>
                </h6>
                <% }%>
                  <input type="text" class="form-control mt-3" id="category" name="category"
                    placeholder=" Enter product category" onkeyup="validCategory()">
                  <span id="categories" class="text-danger"></span>

                    <label for="mdate" class="mt-3" style="display:block;">PRODUCT DISCOUNT</label>
                    <input type="number" class="form-control mt-3" id="discount" name="discount"
                    placeholder=" Enter product discount in (%)" min="0" max="100" onkeyup="validDiscount()">
                    <span id="discounts" class="text-danger"></span>
            </div>
            <button type="submit" class="btn btn-primary btn-block mt-3" onclick="return validation()">SUBMIT</button>
          </form>


        </div>
      </div>
      <div class="col-md-4 col-sm-4 col-xs-12"></div>

    </div>

    <script>
      var categoryNames = document.getElementById('categories');
      var categoryDiscounts = document.getElementById('discounts');

      function validCategory(){
        const category = document.getElementById('category').value;

        if(category === ""){
          categoryNames.innerHTML = "Enter the category name"
          return false
        }

        categoryNames.innerHTML = null;
        return true;
      }

      function validDiscount(){
        const discount = document.getElementById('discount').value;

        if(discount === ""){
          categoryDiscounts.innerHTML = "Enter the discount"
          return false
        }

        if (discount < 0 || discount > 100) {
          proDiscounts.innerHTML = 'Enter the value in percentage between 0 and 100 in percentage'
          return false
        }
        categoryDiscounts.innerHTML = null;
        return true;
      }

      function validation(){
        if(!validCategory() && !validDiscount()){
          return false
        }else if(!validCategory() || !validDiscount()){
          return false
        }else{
          return true
        }
      }

    </script>

    <%- include('../partials/footer.ejs') %>